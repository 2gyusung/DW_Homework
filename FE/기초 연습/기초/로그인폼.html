<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div class="forms">
    <div class="input-box">
      <input id="email" type="text" />
    </div>
    <div class="input-box">
      <input id="name" type="text" />
    </div>
    <div class="input-box">
      <input id="phone" type="text" />
    </div>
    <div class="input-box">
      <input id="addr" type="text" />
    </div>
    <div class="input-box">
      <input id="age" type="text" />
    </div>
    <button class="join" type="button">회원 가입</button>
  </div>
  <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"
></script>
<script>
// 로그인 3번 실패
 var cnt = 0;
 $('.join').click(function() {
   if(cnt >= 3) {
     alert('3번 이상 잘못 입력 했습니다. 내일 다시 입력해주세요')
     return false;
   }
   var inputChildren = $('.input-box').children();
  //  JSON?
   var jsonData = {};
   for(var i = 0; i <inputChildren.length; i++) {
    //  ?
     var elementID = inputChildren[i].id;
     var elementValue = $('#' + elementID).val().trim();
     if(elementValue === '') {
       ++cnt;
       alert('빈칸이 있어요');
       $('#' + elementID).focus();
       return false;
     }
     if(elementID === 'email' && !doCheckEmail(elementValue)) {
       ++cnt;
       alert('이메일 형식이 아닙니다.');
       $('#' + elementID).focus();
       return false;
     }
    //  ?
     jsonData[elementID] = elementValue;

   }
  //  ?

   doSubmit(jsonData);
 });
 function doCheckEmail(email) {
  var regEmail =
          /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i;
          var isEmail = regEmail.test(email);
          return isEmail;
 }
//  JSON?
 function doCheckEmail(jsonData) {
   console.log(doCheckEmail.jsonData);
 }

</script>
</body>
</html>